<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Your IP & Location | NetTrace</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #E22227;
            --color-secondary: #C7080C;
            --color-accent: #6C0102;
            --color-dark: #440101;
            --color-gray: #222831;
            --color-light-gray: #55666E;
            --color-black: #000000;
            --color-white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--color-black);
            color: var(--color-white);
            overflow-x: hidden;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--color-gray);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            border-radius: 4px;
        }

        /* Navbar Styling */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(226, 34, 39, 0.2);
            z-index: 1000;
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            background: rgba(0, 0, 0, 0.95);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            color: var(--color-white);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-menu a:hover {
            color: var(--color-primary);
        }

        .nav-menu a:hover::after {
            width: 80%;
        }

        .nav-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
        }

        .nav-toggle span {
            width: 25px;
            height: 3px;
            background: var(--color-primary);
            transition: all 0.3s ease;
        }

        .nav-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .nav-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: rgba(0, 0, 0, 0.95);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                padding-top: 2rem;
                transition: left 0.3s ease;
            }

            .nav-menu.active {
                left: 0;
            }

            .nav-toggle {
                display: flex;
            }

            .nav-menu a {
                font-size: 1.2rem;
                padding: 1rem 2rem;
                width: 80%;
                text-align: center;
            }
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            background: var(--color-black);
            padding-top: 80px;
            border-bottom: 2px solid rgba(226, 34, 39, 0.2);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(600px circle at 20% 30%, rgba(226, 34, 39, 0.08), transparent 50%),
                radial-gradient(800px circle at 80% 70%, rgba(199, 8, 12, 0.05), transparent 50%);
            z-index: 0;
        }

        .hero-content {
            text-align: center;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1rem;
            width: 100%;
            position: relative;
        }

        .hero h1 {
            font-size: clamp(2rem, 4.5vw, 3.95rem);
            font-weight: 800;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary), var(--color-white));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            animation: gradientShift 3s ease-in-out infinite alternate;
            line-height: 1.2;
            white-space: nowrap;
            overflow: visible;
        }

        .typing-text {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 3px solid var(--color-primary);
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
            text-align: center;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: var(--color-primary); }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--color-light-gray);
            margin: 0 auto 2rem auto;
            max-width: 600px;
            text-align: center;
        }

        .cta-button {
            display: inline-block;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            color: var(--color-white);
            text-decoration: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(226, 34, 39, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 5;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(226, 34, 39, 0.5);
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        /* IP Info Section */
        .ip-info {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            background: var(--color-black);
            min-height: 100vh;
        }

        .ip-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(800px circle at 70% 30%, rgba(108, 1, 2, 0.08), transparent 60%),
                radial-gradient(600px circle at 30% 70%, rgba(226, 34, 39, 0.03), transparent 50%);
            z-index: 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            padding-top: 2rem;
            background: linear-gradient(45deg, var(--color-primary), var(--color-white));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 2;
        }

        .ip-card {
            background: linear-gradient(135deg, rgba(34, 40, 49, 0.9), rgba(68, 1, 1, 0.2));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 34, 39, 0.2);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem auto;
            max-width: 900px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            transform: translateY(50px);
            opacity: 0;
            transition: all 0.6s ease;
            position: relative;
            z-index: 2;
        }

        .ip-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .ip-card h3 {
            color: var(--color-primary);
            font-size: 1.8rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .ip-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            background: rgba(85, 102, 110, 0.1);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--color-primary);
            min-height: 80px;
        }

        .detail-item i {
            color: var(--color-primary);
            margin-right: 1.5rem;
            font-size: 1.5rem;
            min-width: 30px;
        }

        .detail-label {
            font-weight: 600;
            color: var(--color-light-gray);
            margin-right: 0.8rem;
            font-size: 1rem;
            min-width: 100px;
        }

        .detail-value {
            color: var(--color-white);
            font-weight: 500;
            font-size: 1.1rem;
            word-break: break-all;
        }

        .refresh-btn {
            display: block;
            margin: 3rem auto;
            padding: 1rem 2.5rem;
            background: linear-gradient(45deg, var(--color-secondary), var(--color-accent));
            color: var(--color-white);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .refresh-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(199, 8, 12, 0.4);
        }

        .refresh-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--color-white);
            animation: spin 1s ease-in-out infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Map Section */
        .map-section {
            padding: 3rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .map-container {
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(226, 34, 39, 0.3);
        }

        /* Additional Details */
        .additional-details {
            padding: 3rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .detail-card {
            background: linear-gradient(135deg, rgba(34, 40, 49, 0.8), rgba(85, 102, 110, 0.1));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 34, 39, 0.2);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.6s ease;
        }

        .detail-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .detail-card i {
            font-size: 3rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .detail-card h4 {
            color: var(--color-white);
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .detail-card p {
            color: var(--color-light-gray);
            font-size: 1.1rem;
        }

        /* How It Works Section */
        .how-it-works {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .step {
            transform: scale(0.8);
            opacity: 0;
            transition: all 0.6s ease;
        }

        .step.visible {
            transform: scale(1);
            opacity: 1;
        }

        .step-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 2rem;
            color: var(--color-white);
            box-shadow: 0 10px 30px rgba(226, 34, 39, 0.3);
        }

        .step h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--color-white);
        }

        .step p {
            color: var(--color-light-gray);
            line-height: 1.6;
        }

        /* Error Panel */
        .error-panel {
            background: linear-gradient(135deg, rgba(226, 34, 39, 0.1), rgba(68, 1, 1, 0.3));
            backdrop-filter: blur(10px);
            border: 1px solid var(--color-primary);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 500px;
            text-align: center;
            display: none;
        }

        .error-panel.show {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        .error-panel i {
            font-size: 3rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .error-panel h4 {
            color: var(--color-white);
            margin-bottom: 1rem;
        }

        .error-panel p {
            color: var(--color-light-gray);
            margin-bottom: 1.5rem;
        }

        .retry-btn {
            padding: 0.8rem 2rem;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            color: var(--color-white);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(226, 34, 39, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(226, 34, 39, 0); }
            100% { box-shadow: 0 0 0 0 rgba(226, 34, 39, 0); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* About Section */
        .about {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .about::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(800px circle at 30% 40%, rgba(226, 34, 39, 0.08), transparent 50%);
            z-index: -1;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, var(--color-primary), var(--color-white));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .about-text p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--color-light-gray);
            margin-bottom: 1.5rem;
        }

        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            background: rgba(34, 40, 49, 0.3);
            padding: 1rem;
            border-radius: 10px;
            border-left: 3px solid var(--color-primary);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            background: rgba(34, 40, 49, 0.5);
            transform: translateX(5px);
        }

        .feature-item i {
            color: var(--color-primary);
            font-size: 1.5rem;
            margin-right: 1rem;
        }

        .feature-item span {
            color: var(--color-white);
            font-weight: 500;
        }

        .about-stats {
            background: linear-gradient(135deg, rgba(34, 40, 49, 0.8), rgba(68, 1, 1, 0.2));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 34, 39, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        .stat-item {
            padding: 1rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-primary);
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--color-light-gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .about-cta {
            text-align: center;
            margin-top: 3rem;
        }

        .about-btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            color: var(--color-white);
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(226, 34, 39, 0.3);
        }

        .about-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(226, 34, 39, 0.5);
        }

        @media (max-width: 768px) {
            .about-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .about-text h2 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .about-features {
                grid-template-columns: 1fr;
            }
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--color-gray), var(--color-dark));
            padding: 3rem 2rem 2rem;
            text-align: center;
            border-top: 1px solid rgba(226, 34, 39, 0.2);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--color-light-gray);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--color-primary);
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .social-icons a {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--color-gray), var(--color-light-gray));
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            color: var(--color-white);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-icons a:hover {
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(226, 34, 39, 0.3);
        }

        .footer-credits {
            color: var(--color-light-gray);
            font-size: 0.9rem;
        }

        .footer-credits a {
            color: var(--color-primary);
            text-decoration: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero {
                padding-top: 70px;
                height: auto;
                min-height: 100vh;
            }

            .hero h1 {
                font-size: clamp(1.8rem, 4vw, 2.5rem);
                line-height: 1.1;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .hero-content {
                padding: 0 1rem;
            }

            .ip-info {
                padding: 3rem 1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .ip-details {
                grid-template-columns: 1fr;
            }

            .ip-card {
                width: 95%;
                padding: 2rem;
            }

            .detail-item {
                padding: 1.2rem;
                min-height: 70px;
            }

            .steps-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .fade-in {
            animation: fadeIn 0.6s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .blur-in {
            animation: blurIn 0.8s ease;
        }

        @keyframes blurIn {
            from {
                opacity: 0;
                filter: blur(10px);
            }
            to {
                opacity: 1;
                filter: blur(0);
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#hero" class="nav-logo">
                <i class="fas fa-globe"></i> NetTrace
            </a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#hero">Home</a></li>
                <li><a href="#ip-info">IP Info</a></li>
                <li><a href="#map-section">Location</a></li>
                <li><a href="#about">About</a></li>
            </ul>
            <div class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-content">
            <h1><span class="typing-text">Discover Your IP & Location</span></h1>
            <p>Instantly see your IP address, location, and more powered by IPinfo.io.</p>
            <a href="#ip-info" class="cta-button" id="checkIpBtn">
                <i class="fas fa-search"></i> Check My IP
            </a>
        </div>
    </section>

    <!-- IP Information Section -->
    <section class="ip-info" id="ip-info">
        <h2 class="section-title">Your IP Information</h2>
        
        <div class="ip-card" id="ipCard">
            <h3><i class="fas fa-globe"></i> IP Details</h3>
            <div class="ip-details" id="ipDetails">
                <div class="detail-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span class="detail-label">IP Address:</span>
                    <span class="detail-value" id="ipAddress">Loading...</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-city"></i>
                    <span class="detail-label">Location:</span>
                    <span class="detail-value" id="location">Loading...</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-building"></i>
                    <span class="detail-label">ISP:</span>
                    <span class="detail-value" id="isp">Loading...</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-crosshairs"></i>
                    <span class="detail-label">Coordinates:</span>
                    <span class="detail-value" id="coordinates">Loading...</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-clock"></i>
                    <span class="detail-label">Timezone:</span>
                    <span class="detail-value" id="timezone">Loading...</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-calendar"></i>
                    <span class="detail-label">Local Time:</span>
                    <span class="detail-value" id="localTime">Loading...</span>
                </div>
            </div>
            <button class="refresh-btn" id="refreshBtn">
                <i class="fas fa-sync-alt"></i> Refresh Info
            </button>
        </div>

        <!-- Error Panel -->
        <div class="error-panel" id="errorPanel">
            <i class="fas fa-exclamation-triangle"></i>
            <h4>Oops! Something went wrong</h4>
            <p>Could not fetch IP info. Please try again.</p>
            <button class="retry-btn" id="retryBtn">
                <i class="fas fa-redo"></i> Retry
            </button>
        </div>
    </section>

    <!-- Map Section -->
    <section class="map-section" id="map-section">
        <h2 class="section-title">Your Location on Map</h2>
        <div class="map-container" id="mapContainer"></div>
    </section>

    <!-- Additional Details Section -->
    <section class="additional-details" id="additional-details">
        <h2 class="section-title">Additional Information</h2>
        <div class="details-grid" id="additionalGrid">
            <div class="detail-card">
                <i class="fas fa-mail-bulk"></i>
                <h4>Postal Code</h4>
                <p id="postalCode">-</p>
            </div>
            <div class="detail-card">
                <i class="fas fa-flag"></i>
                <h4>Country</h4>
                <p id="countryInfo">-</p>
            </div>
            <div class="detail-card">
                <i class="fas fa-network-wired"></i>
                <h4>Connection Type</h4>
                <p id="connectionType">-</p>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <h2 class="section-title">How It Works</h2>
        <div class="steps-container">
            <div class="step">
                <div class="step-icon">
                    <i class="fas fa-search"></i>
                </div>
                <h4>1. Detect Your IP</h4>
                <p>Our system automatically detects your public IP address when you visit the page.</p>
            </div>
            <div class="step">
                <div class="step-icon">
                    <i class="fas fa-cloud-download-alt"></i>
                </div>
                <h4>2. Fetch Data from IPinfo.io</h4>
                <p>We query the IPinfo.io API to retrieve comprehensive information about your IP address.</p>
            </div>
            <div class="step">
                <div class="step-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <h4>3. Display Info & Map</h4>
                <p>All your IP information is displayed in an interactive format with a live map of your location.</p>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-content">
            <div class="about-text">
                <h2>About NetTrace</h2>
                <p>
                    NetTrace is a powerful and intuitive web application that provides comprehensive IP address information and geolocation services. Built with modern web technologies and powered by the reliable IPinfo.io API, we deliver accurate and real-time data about your internet connection.
                </p>
                <p>
                    Whether you're a developer, network administrator, security professional, or just curious about your online presence, NetTrace provides the tools and information you need in a beautiful, user-friendly interface.
                </p>
                
                <div class="about-features">
                    <div class="feature-item">
                        <i class="fas fa-bolt"></i>
                        <span>Lightning Fast</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Secure & Private</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-mobile-alt"></i>
                        <span>Mobile Friendly</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Accurate Data</span>
                    </div>
                </div>

                <div class="about-cta">
                    <a href="#ip-info" class="about-btn">
                        <i class="fas fa-rocket"></i> Get Started Now
                    </a>
                </div>
            </div>

            <div class="about-stats">
                <h3 style="color: var(--color-white); margin-bottom: 2rem; font-size: 1.8rem;">
                    Trusted by Users Worldwide
                </h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">50K+</span>
                        <span class="stat-label">Daily Users</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">99.9%</span>
                        <span class="stat-label">Uptime</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">200+</span>
                        <span class="stat-label">Countries</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">24/7</span>
                        <span class="stat-label">Support</span>
                    </div>
                </div>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(226, 34, 39, 0.2);">
                    <h4 style="color: var(--color-primary); margin-bottom: 1rem;">Why Choose NetTrace?</h4>
                    <p style="color: var(--color-light-gray); font-size: 0.95rem; line-height: 1.6;">
                        We combine cutting-edge technology with elegant design to provide the most comprehensive IP tracking solution available. Our commitment to privacy, accuracy, and user experience sets us apart.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#about">About</a>
                <a href="#privacy">Privacy</a>
                <a href="#contact">Contact</a>
                <a href="#api">API Docs</a>
            </div>
            <div class="social-icons">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
            <div class="footer-credits">
                <p>Powered by <a href="https://ipinfo.io" target="_blank">IPinfo.io API</a> | 
                   Built with ‚ù§Ô∏è using HTML, CSS & JavaScript</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        class IPInfoApp {
            constructor() {
                this.ipData = null;
                this.map = null;
                this.marker = null;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.setupScrollAnimations();
                this.fetchIPInfo();
                this.updateLocalTime();
            }

            setupEventListeners() {
                // CTA Button smooth scroll
                document.getElementById('checkIpBtn').addEventListener('click', (e) => {
                    e.preventDefault();
                    document.getElementById('ip-info').scrollIntoView({
                        behavior: 'smooth'
                    });
                });

                // Refresh button
                document.getElementById('refreshBtn').addEventListener('click', () => {
                    this.fetchIPInfo();
                });

                // Retry button
                document.getElementById('retryBtn').addEventListener('click', () => {
                    this.fetchIPInfo();
                });
            }

            setupScrollAnimations() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                });

                // Observe elements for animation
                document.querySelectorAll('.ip-card, .detail-card, .step').forEach(el => {
                    observer.observe(el);
                });
            }

            async fetchIPInfo() {
                const refreshBtn = document.getElementById('refreshBtn');
                const errorPanel = document.getElementById('errorPanel');
                const ipCard = document.getElementById('ipCard');

                // Show loading state
                refreshBtn.disabled = true;
                refreshBtn.innerHTML = '<span class="loading-spinner"></span>Loading...';
                errorPanel.classList.remove('show');

                try {
                    // Using IPinfo.io free endpoint
                    const response = await fetch('https://ipinfo.io/json');
                    
                    if (!response.ok) {
                        throw new Error('Failed to fetch IP information');
                    }

                    this.ipData = await response.json();
                    this.displayIPInfo();
                    this.initMap();
                    this.displayAdditionalInfo();
                    
                    ipCard.classList.add('visible', 'blur-in');

                } catch (error) {
                    console.error('Error fetching IP info:', error);
                    this.showError();
                } finally {
                    refreshBtn.disabled = false;
                    refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh Info';
                }
            }

            displayIPInfo() {
                if (!this.ipData) return;

                const elements = {
                    ipAddress: this.ipData.ip || 'Unknown',
                    location: `${this.ipData.city || 'Unknown'}, ${this.ipData.region || ''}, ${this.ipData.country || ''}`,
                    isp: this.ipData.org || 'Unknown',
                    coordinates: this.ipData.loc || 'Unknown',
                    timezone: this.ipData.timezone || 'Unknown'
                };

                Object.entries(elements).forEach(([id, value]) => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = value;
                        element.classList.add('fade-in');
                    }
                });

                this.updateLocalTime();
            }

            displayAdditionalInfo() {
                if (!this.ipData) return;

                // Postal Code
                const postalElement = document.getElementById('postalCode');
                if (postalElement) {
                    postalElement.textContent = this.ipData.postal || 'Not Available';
                }

                // Country Info
                const countryElement = document.getElementById('countryInfo');
                if (countryElement) {
                    const countryText = this.ipData.country ? 
                        `${this.ipData.country} ${this.getCountryFlag(this.ipData.country)}` : 
                        'Not Available';
                    countryElement.innerHTML = countryText;
                }

                // Connection Type (mock data as it's not always available in free tier)
                const connectionElement = document.getElementById('connectionType');
                if (connectionElement) {
                    connectionElement.textContent = 'Broadband'; // Default assumption
                }

                // Animate additional cards
                setTimeout(() => {
                    document.querySelectorAll('.detail-card').forEach((card, index) => {
                        setTimeout(() => {
                            card.classList.add('visible');
                        }, index * 200);
                    });
                }, 300);
            }

            initMap() {
                if (!this.ipData || !this.ipData.loc) return;

                const [lat, lng] = this.ipData.loc.split(',').map(Number);
                
                // Initialize map if not already created
                if (!this.map) {
                    this.map = L.map('mapContainer').setView([lat, lng], 10);
                    
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '¬© OpenStreetMap contributors'
                    }).addTo(this.map);
                } else {
                    this.map.setView([lat, lng], 10);
                }

                // Remove existing marker
                if (this.marker) {
                    this.map.removeLayer(this.marker);
                }

                // Add new marker with custom icon
                const customIcon = L.divIcon({
                    className: 'custom-marker',
                    html: '<i class="fas fa-map-marker-alt" style="color: #E22227; font-size: 2rem;"></i>',
                    iconSize: [30, 30],
                    iconAnchor: [15, 30]
                });

                this.marker = L.marker([lat, lng], { icon: customIcon })
                    .addTo(this.map)
                    .bindPopup(`
                        <div style="text-align: center; color: #000;">
                            <strong>${this.ipData.city || 'Your Location'}</strong><br>
                            <small>${this.ipData.country || ''}</small>
                        </div>
                    `);

                // Animate marker drop
                setTimeout(() => {
                    this.marker.openPopup();
                }, 500);
            }

            updateLocalTime() {
                if (!this.ipData || !this.ipData.timezone) return;

                const updateTime = () => {
                    try {
                        const now = new Date();
                        const localTime = now.toLocaleString('en-US', {
                            timeZone: this.ipData.timezone,
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit'
                        });
                        
                        const timeElement = document.getElementById('localTime');
                        if (timeElement) {
                            timeElement.textContent = localTime;
                        }
                    } catch (error) {
                        console.error('Error updating time:', error);
                        const timeElement = document.getElementById('localTime');
                        if (timeElement) {
                            timeElement.textContent = new Date().toLocaleString();
                        }
                    }
                };

                updateTime();
                setInterval(updateTime, 1000);
            }

            showError() {
                const errorPanel = document.getElementById('errorPanel');
                const ipCard = document.getElementById('ipCard');
                
                ipCard.style.display = 'none';
                errorPanel.classList.add('show');
            }

            getCountryFlag(countryCode) {
                const flagEmojis = {
                    'US': 'üá∫üá∏', 'GB': 'üá¨üáß', 'DE': 'üá©üá™', 'FR': 'üá´üá∑',
                    'IT': 'üáÆüáπ', 'ES': 'üá™üá∏', 'CA': 'üá®üá¶', 'AU': 'üá¶üá∫',
                    'JP': 'üáØüáµ', 'CN': 'üá®üá≥', 'IN': 'üáÆüá≥', 'BR': 'üáßüá∑',
                    'RU': 'üá∑üá∫', 'KR': 'üá∞üá∑', 'MX': 'üá≤üáΩ', 'NL': 'üá≥üá±'
                };
                return flagEmojis[countryCode] || 'üåç';
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new IPInfoApp();

            // Animate steps on scroll
            const stepsObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 300);
                    }
                });
            }, { threshold: 0.3 });

            document.querySelectorAll('.step').forEach(step => {
                stepsObserver.observe(step);
            });
        });

        // Add smooth scrolling for all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // The parallax effect was removed to fix the section overlap issue.
        /*
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero');
            if (hero) {
                hero.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        });
        */

        // Navbar functionality
        class NavbarController {
            constructor() {
                this.navbar = document.getElementById('navbar');
                this.navToggle = document.getElementById('navToggle');
                this.navMenu = document.getElementById('navMenu');
                this.init();
            }

            init() {
                this.setupScrollEffect();
                this.setupMobileMenu();
                this.setupSmoothScrolling();
            }

            setupScrollEffect() {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 100) {
                        this.navbar.classList.add('scrolled');
                    } else {
                        this.navbar.classList.remove('scrolled');
                    }
                });
            }

            setupMobileMenu() {
                this.navToggle.addEventListener('click', () => {
                    this.navToggle.classList.toggle('active');
                    this.navMenu.classList.toggle('active');
                });

                // Close mobile menu when clicking on a link
                document.querySelectorAll('.nav-menu a').forEach(link => {
                    link.addEventListener('click', () => {
                        this.navToggle.classList.remove('active');
                        this.navMenu.classList.remove('active');
                    });
                });

                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!this.navbar.contains(e.target)) {
                        this.navToggle.classList.remove('active');
                        this.navMenu.classList.remove('active');
                    }
                });
            }

            setupSmoothScrolling() {
                document.querySelectorAll('.nav-menu a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            const offsetTop = target.offsetTop - 80; // Account for navbar height
                            window.scrollTo({
                                top: offsetTop,
                                behavior: 'smooth'
                            });
                        }
                    });
                });
            }
        }

        // Initialize navbar when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new NavbarController();
        });
    </script>
</body>
</html>
