<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giphy World Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the Giphy App */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #e5e7eb;
            overflow-x: hidden;
        }

        /* Gradient spotlight effects */
        .spotlight {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            border-radius: 50%;
            filter: blur(120px);
            opacity: 0.15;
            z-index: -1;
        }

        .spotlight-1 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, #10b981, transparent 60%);
            animation: moveSpotlight1 20s infinite alternate ease-in-out;
        }

        .spotlight-2 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, #6ee7b7, transparent 60%);
            animation: moveSpotlight2 25s infinite alternate ease-in-out;
        }

        @keyframes moveSpotlight1 {
            0% { transform: translate(10vw, 20vh); }
            100% { transform: translate(70vw, 80vh); }
        }

        @keyframes moveSpotlight2 {
            0% { transform: translate(80vw, 10vh); }
            100% { transform: translate(20vw, 90vh); }
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(45deg, #6ee7b7, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Gradient buttons */
        .btn-gradient {
            background-image: linear-gradient(45deg, #10b981, #6ee7b7);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px 0 rgba(16, 185, 129, 0.3);
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px 0 rgba(16, 185, 129, 0.5);
            background-image: linear-gradient(45deg, #6ee7b7, #10b981);
        }
        
        /* Glassmorphism effect for cards and inputs */
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* GIF card styles */
        .gif-card {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .gif-card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 1rem;
            text-align: center;
        }
        
        .gif-card:hover {
            transform: scale(1.05) rotate(1deg);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
            z-index: 10;
        }

        .gif-card:hover .gif-card-overlay {
            opacity: 1;
        }
        
        .gif-card-overlay .btn-icon {
             background: rgba(255, 255, 255, 0.1);
             transition: all 0.2s ease;
        }
        
        .gif-card-overlay .btn-icon:hover {
            background: #10b981;
            transform: scale(1.1);
        }

        /* Scroll-triggered animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            filter: blur(5px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out, filter 0.6s ease-out;
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            filter: blur(0);
        }

        /* Message box for copy feedback */
        #copy-message {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }
        
        #copy-message.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
        }

    </style>
</head>
<body class="antialiased">

    <!-- Background Spotlights -->
    <div class="spotlight spotlight-1"></div>
    <div class="spotlight spotlight-2"></div>

    <!-- Copy to Clipboard Message -->
    <div id="copy-message" class="glass-effect text-white py-2 px-4 rounded-lg shadow-lg">
        GIF URL copied to clipboard!
    </div>

    <!-- Main Content -->
    <div class="relative z-10">

        <!-- Hero Header -->
        <header id="hero" class="h-screen min-h-[700px] flex items-center justify-center text-center p-4">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-4 animate-on-scroll">
                    Discover the World of <span class="gradient-text">GIFs</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto animate-on-scroll" style="transition-delay: 150ms;">
                    Explore millions of GIFs, stickers, and animated media from the Giphy universe.
                </p>
                <form id="search-form" class="flex flex-col sm:flex-row gap-2 max-w-xl mx-auto mb-6 animate-on-scroll" style="transition-delay: 300ms;">
                    <input type="text" id="search-input" placeholder="Search for any GIF..." class="w-full px-5 py-3 rounded-lg glass-effect focus:outline-none focus:ring-2 focus:ring-green-400 transition-all duration-300">
                    <button type="submit" class="btn-gradient text-white font-bold px-6 py-3 rounded-lg">
                        Search
                    </button>
                </form>
                <div class="flex justify-center gap-4 animate-on-scroll" style="transition-delay: 450ms;">
                    <a href="#trending" class="btn-gradient text-white font-semibold px-5 py-2 rounded-lg text-sm">Trending GIFs</a>
                    <a href="#stickers" class="glass-effect text-white font-semibold px-5 py-2 rounded-lg text-sm border-2 border-transparent hover:border-green-400 transition">Explore Stickers</a>
                </div>
            </div>
        </header>

        <!-- About Section -->
        <section id="about" class="py-20 px-4">
            <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="animate-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">What is <span class="gradient-text">Giphy World</span>?</h2>
                    <p class="text-gray-300 leading-relaxed">
                        This project is a modern, fun, and interactive playground built with the powerful Giphy API. It's designed for you to explore the vast universe of animated GIFs and stickers, find the perfect reaction, and share creative media. Built with vanilla JavaScript, it's a testament to powerful web experiences without heavy frameworks.
                    </p>
                </div>
                <div class="grid grid-cols-2 gap-4 animate-on-scroll" style="transition-delay: 200ms;">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExd254YWV0OWVvMmE4d2d1ZmxrOG92NzM4eGdzYjJtdGV2YXF2OW9jZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7aDczpC3sC45Pn8I/giphy.gif" alt="Creative GIF" class="rounded-lg shadow-lg w-full h-auto object-cover aspect-square">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOGg5eWoxNmp1ZWZzMGUyZ3B5dGllbnpndWN4ZGdxZGlscTNwdzE5ciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o72F5tx9CEhSDybwQ/giphy.gif" alt="Fun GIF" class="rounded-lg shadow-lg mt-8 w-full h-auto object-cover aspect-square">
                </div>
            </div>
        </section>

        <!-- Main Content Display -->
        <main class="px-4 py-10">
            <!-- Search Results Section -->
            <section id="search-results" class="hidden">
                <div class="max-w-7xl mx-auto">
                     <div class="flex items-center justify-between mb-8">
                        <h2 class="text-3xl font-bold">Search Results for "<span id="search-term" class="gradient-text"></span>"</h2>
                        <button id="clear-search" class="glass-effect text-white font-semibold px-4 py-2 rounded-lg text-sm border-2 border-transparent hover:border-red-400 transition">Clear</button>
                    </div>
                    <div id="search-results-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
                     <div class="text-center mt-8">
                        <button id="load-more-search" class="btn-gradient text-white font-bold px-6 py-3 rounded-lg">Load More</button>
                    </div>
                </div>
            </section>
            
            <!-- Trending GIFs Section -->
            <section id="trending">
                <div class="max-w-7xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center animate-on-scroll">üî• Trending Now</h2>
                    <div id="trending-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
                    <div class="text-center mt-8">
                        <button id="load-more-trending" class="btn-gradient text-white font-bold px-6 py-3 rounded-lg">Load More</button>
                    </div>
                </div>
            </section>

             <!-- Stickers Section -->
            <section id="stickers" class="py-20">
                <div class="max-w-7xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center animate-on-scroll">‚ú® Awesome Stickers</h2>
                    <div id="stickers-filters" class="flex flex-wrap justify-center gap-2 mb-8 animate-on-scroll">
                        <button data-category="reactions" class="sticker-btn btn-gradient text-white font-semibold px-4 py-2 rounded-lg text-sm">Reactions</button>
                        <button data-category="memes" class="sticker-btn glass-effect text-white font-semibold px-4 py-2 rounded-lg text-sm border-2 border-transparent hover:border-green-400 transition">Memes</button>
                        <button data-category="animals" class="sticker-btn glass-effect text-white font-semibold px-4 py-2 rounded-lg text-sm border-2 border-transparent hover:border-green-400 transition">Animals</button>
                        <button data-category="cute" class="sticker-btn glass-effect text-white font-semibold px-4 py-2 rounded-lg text-sm border-2 border-transparent hover:border-green-400 transition">Cute</button>
                    </div>
                    <div id="stickers-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
                    <div class="text-center mt-8">
                        <button id="load-more-stickers" class="btn-gradient text-white font-bold px-6 py-3 rounded-lg">Load More</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="py-12 px-4 glass-effect mt-20">
            <div class="max-w-7xl mx-auto text-center text-gray-400">
                <p class="mb-4">Built with ‚ù§Ô∏è and the <a href="https://developers.giphy.com/" target="_blank" class="font-semibold gradient-text hover:opacity-80 transition">Giphy API</a>.</p>
                <div class="flex justify-center space-x-6">
                    <a href="#" class="hover:text-green-400 transition">GitHub Repo</a>
                    <a href="#" class="hover:text-green-400 transition">Twitter</a>
                </div>
            </div>
        </footer>

    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- Configuration ---
        const API_KEY = 'TFOEfChChK2VCpNevrKqVh0VZEl89quv'; 
        const GIPHY_BASE_URL = 'https://api.giphy.com/v1';
        const GIFS_PER_PAGE = 12;

        // --- State ---
        let trendingOffset = 0;
        let searchOffset = 0;
        let stickersOffset = 0;
        let currentSearchQuery = '';
        let currentStickerCategory = 'reactions';
        let isFetching = false;

        // --- DOM Elements ---
        const searchForm = document.getElementById('search-form');
        const searchInput = document.getElementById('search-input');
        const clearSearchBtn = document.getElementById('clear-search');
        
        const searchResultsSection = document.getElementById('search-results');
        const searchResultsGrid = document.getElementById('search-results-grid');
        const searchTermSpan = document.getElementById('search-term');

        const trendingSection = document.getElementById('trending');
        const trendingGrid = document.getElementById('trending-grid');
        
        const stickersGrid = document.getElementById('stickers-grid');
        const stickerFilterContainer = document.getElementById('stickers-filters');

        const copyMessage = document.getElementById('copy-message');
        
        const loadMoreTrendingBtn = document.getElementById('load-more-trending');
        const loadMoreSearchBtn = document.getElementById('load-more-search');
        const loadMoreStickersBtn = document.getElementById('load-more-stickers');

        // --- API Fetch Functions ---

        const fetchData = async (endpoint, params) => {
            isFetching = true;
            const url = new URL(`${GIPHY_BASE_URL}/${endpoint}`);
            url.search = new URLSearchParams({ api_key: API_KEY, ...params }).toString();
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const json = await response.json();
                return json.data;
            } catch (error) {
                console.error("Failed to fetch from Giphy API:", error);
                return [];
            } finally {
                isFetching = false;
            }
        };
        
        const fetchTrendingGIFs = () => fetchData('gifs/trending', { limit: GIFS_PER_PAGE, offset: trendingOffset });
        const searchGIFs = (query) => fetchData('gifs/search', { q: query, limit: GIFS_PER_PAGE, offset: searchOffset, lang: 'en' });
        const fetchStickers = (query) => fetchData('stickers/search', { q: query, limit: GIFS_PER_PAGE, offset: stickersOffset, lang: 'en' });
        
        // --- Rendering ---

        const createGifCard = (gif) => {
            const card = document.createElement('div');
            card.className = 'gif-card rounded-lg glass-effect animate-on-scroll';
            
            const img = document.createElement('img');
            img.src = gif.images.fixed_width.url;
            img.alt = gif.title;
            img.className = 'w-full h-full object-cover rounded-lg aspect-square';
            img.loading = 'lazy';

            const overlay = document.createElement('div');
            overlay.className = 'gif-card-overlay';
            
            const title = document.createElement('p');
            title.className = 'font-bold text-white mb-2 text-sm';
            title.textContent = gif.title || 'Untitled GIF';

            const buttonsWrapper = document.createElement('div');
            buttonsWrapper.className = 'flex gap-2';

            const copyBtn = document.createElement('button');
            copyBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>`;
            copyBtn.className = 'btn-icon p-2 rounded-full text-white';
            copyBtn.onclick = () => copyToClipboard(gif.url);

            const shareBtn = document.createElement('a');
            shareBtn.href = gif.url;
            shareBtn.target = '_blank';
            shareBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/></svg>`;
            shareBtn.className = 'btn-icon p-2 rounded-full text-white';
            
            buttonsWrapper.append(copyBtn, shareBtn);
            overlay.append(title, buttonsWrapper);
            card.append(img, overlay);
            
            return card;
        };
        
        const displayMedia = (media, container) => {
            media.forEach((item, index) => {
                const card = createGifCard(item);
                card.style.transitionDelay = `${index * 50}ms`;
                container.appendChild(card);
            });
            // Re-observe for animations after adding new items
             observeElements(document.querySelectorAll('.animate-on-scroll'));
        };

        const resetAndDisplaySearch = (gifs) => {
            searchResultsGrid.innerHTML = '';
            searchResultsSection.classList.remove('hidden');
            trendingSection.classList.add('hidden');
            displayMedia(gifs, searchResultsGrid);
        };

        // --- Event Handlers ---
        
        searchForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const query = searchInput.value.trim();
            if (!query) return;

            currentSearchQuery = query;
            searchOffset = 0;
            searchTermSpan.textContent = query;
            const gifs = await searchGIFs(query);
            resetAndDisplaySearch(gifs);
        });

        clearSearchBtn.addEventListener('click', () => {
            searchInput.value = '';
            currentSearchQuery = '';
            searchResultsSection.classList.add('hidden');
            trendingSection.classList.remove('hidden');
        });

        stickerFilterContainer.addEventListener('click', async (e) => {
            if (e.target.tagName !== 'BUTTON') return;
            
            const category = e.target.dataset.category;
            if (category === currentStickerCategory) return;
            
            currentStickerCategory = category;
            stickersOffset = 0;
            stickersGrid.innerHTML = '';
            
            // Update button styles
            stickerFilterContainer.querySelectorAll('button').forEach(btn => {
                btn.classList.remove('btn-gradient');
                btn.classList.add('glass-effect', 'hover:border-green-400');
            });
            e.target.classList.add('btn-gradient');
            e.target.classList.remove('glass-effect', 'hover:border-green-400');


            const stickers = await fetchStickers(category);
            displayMedia(stickers, stickersGrid);
        });

        // --- Load More Button Handlers ---
        
        loadMoreTrendingBtn.addEventListener('click', async () => {
            if (isFetching) return;
            trendingOffset += GIFS_PER_PAGE;
            const gifs = await fetchTrendingGIFs();
            displayMedia(gifs, trendingGrid);
        });

        loadMoreSearchBtn.addEventListener('click', async () => {
            if (isFetching || !currentSearchQuery) return;
            searchOffset += GIFS_PER_PAGE;
            const gifs = await searchGIFs(currentSearchQuery);
            displayMedia(gifs, searchResultsGrid);
        });

        loadMoreStickersBtn.addEventListener('click', async () => {
            if (isFetching) return;
            stickersOffset += GIFS_PER_PAGE;
            const stickers = await fetchStickers(currentStickerCategory);
            displayMedia(stickers, stickersGrid);
        });

        // --- Utilities ---
        
        const copyToClipboard = (text) => {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            // Use execCommand for broader compatibility in sandboxed environments
            try {
                document.execCommand('copy');
                showCopyMessage();
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            document.body.removeChild(textarea);
        };
        
        const showCopyMessage = () => {
            copyMessage.classList.add('show');
            setTimeout(() => {
                copyMessage.classList.remove('show');
            }, 2000);
        };
        
        // --- Intersection Observer for animations ---
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        const observeElements = (elements) => {
            elements.forEach(el => observer.observe(el));
        };
        
        // --- Initial Load ---
        const init = async () => {
            const trendingGifs = await fetchTrendingGIFs();
            displayMedia(trendingGifs, trendingGrid);

            const initialStickers = await fetchStickers(currentStickerCategory);
            displayMedia(initialStickers, stickersGrid);

            observeElements(document.querySelectorAll('.animate-on-scroll'));
        };

        init();
    });
    </script>
</body>
</html>

